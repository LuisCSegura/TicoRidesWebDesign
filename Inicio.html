<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TicoRides - Inicio</title>
    <link rel="stylesheet" href="css/InicioEstilos.css" />
    <link rel="stylesheet" href="css/MenuEstilos.css" />
  </head>

  <body>
    <!--CABECERA DE PAGINA FLOTANTE QUE CONTIENE EL MENU-->
    <header>
        <div class="menu_contenedor">
          <img src="images/TicoRidesLogoBlack.png" class="img_logo" />
          <input type="checkbox" id="check" />
          <label for="check" class="icon_menu">≡</label>
          <nav class="menu">
            <ul>
              <li>
                <a href="Inicio.html"> BUSCAR RIDES</a>
              </li>
              <li>
                <a href="Rides.html">RIDES</a>
              </li>
              <li>
                <a href="Configuracion.html">CONFIGURACIÓN</a>
              </li>
              <li>
                <a id="last_item" href="Registro.html">REGISTRO</a>
              </li>
            </ul>
          </nav>
        </div>
      </header>
    <br />
    <!--CURPO PRINCIPAL DE LA PAGINA CON TODOS LOS COMPONENTES ESTATICOS-->
    <main>
      <form class="FrmBuscar" id="FrmBuscar">
        <div class="contenedor">
          <h1><b>TICO</b><i>RIDES</i></h1>
          <h2>
            !BUSQUE RIDES A CUALQUIER PARTE DE COSTA RICA!
          </h2>
          <div class="input_contenedor" id="inp_con1">
            <input
              type="text"
              id="partida"
              placeholder="LUGAR DE PARTIDA"
              required
            />
          </div>

          <div class="input_contenedor" id="inp_con2">
            <input
              type="text"
              id="destino"
              placeholder="LUGAR DE DESTINO"
              required
            />
          </div>
          <input type="submit" value="B U S C A R" class="button" />
          <h2>PRINCIPALES COINCIDENCIAS</h2>
          <table>
            <thead>
              <tr>
                <td class="table_header">USUARIO</td>
                <td class="table_header">SALIDA</td>
                <td class="table_header">DESTINO</td>
                <td class="table_header">ACCIONES</td>
              </tr>
            </thead>
            <tbody id="tRidesBody">

            </tbody>
          </table>
        </div>
      </form>
    </main>
    <!--PIE DE PAGINA CON INFORMACIÓN RELEVANTE-->
    <footer>
      <p class="small_letter">
        Todos los derechos reservados TICORIDES S.A COPIRIGHT 2019
      </p>
    </footer>
    <script src="js/App.js"></script>
    <script>
      document.getElementById("FrmBuscar")
        .addEventListener("submit", function(Event) {
          var partida = document.getElementById("partida").value;
          var destino = document.getElementById("destino").value;
          var rides=obtener_ridesCoincidentes(partida,destino);
          const tablebody = document.getElementById("tRidesBody");
          if (rides.length > 0) {
            for (i = 0; i < rides.length; i++) {
              if (rides[i] != null) {
                const row = document.createElement("tr");
                row.innerHTML =
                  "<td>" +
                  rides[i].usuario +
                  "</td>" +
                  "<td>" +
                  rides[i].partida +
                  "</td>" +
                  "<td>" +
                  rides[i].destino +
                  "</td>" +
                  "<td>" +
                  "<a class='ver' id='" +
                  rides[i].nombre +
                  "' name='"+
                  rides[i].usuario+
                  "' onclick='ver_ride(this)'>VER</a>" +
                  "</td>";
                tablebody.appendChild(row);
              }
            }
          } else {
            tablebody.innerHTML =
              "<tr>No hay resultados disponibles</tr>";
          }

          Event.preventDefault();
        });
    </script>
  </body>
</html>
